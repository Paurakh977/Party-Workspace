(()=>{var e={};e.id=910,e.ids=[910],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},851:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>n}),a(2252),a(2029),a(5866);var s=a(3191),r=a(8716),l=a(7922),i=a.n(l),o=a(5231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);a.d(t,d);let n=["",{children:["forms",{children:["membersForm",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2252)),"/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/membersForm/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,2029)),"/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/membersForm/page.tsx"],m="/forms/membersForm/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/forms/membersForm/page",pathname:"/forms/membersForm",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},2825:(e,t,a)=>{Promise.resolve().then(a.bind(a,4257))},4257:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(326),r=a(7577),l=a(5048),i=a(19),o=a(4099),d=a(9314);let n=()=>{let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[i,n]=(0,r.useState)([]),[c,m]=(0,r.useState)([]),[u,x]=(0,r.useState)(""),[p,b]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[k,g]=(0,r.useState)(""),[v,j]=(0,r.useState)(!0),[w,y]=(0,r.useState)(!0),[N,S]=(0,r.useState)(!0),[C,E]=(0,r.useState)(!0),[M,P]=(0,r.useState)(""),[q,I]=(0,r.useState)(""),[F,T]=(0,r.useState)(""),[$,_]=(0,r.useState)(""),[Z,D]=(0,r.useState)(""),[G,A]=(0,r.useState)(""),[W,z]=(0,r.useState)(""),[O,R]=(0,r.useState)(""),[X,B]=(0,r.useState)(""),[H,J]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{let e=await o.Z.get("http://localhost:3000/committees");t(e.data),j(0===e.data.length)}catch(e){console.error("Error fetching committees:",e),j(!0)}})()},[]),(0,r.useEffect)(()=>{(async()=>{if(u)try{let e=await o.Z.get(`http://localhost:3000/sub-committees/committee/${u}`);l(e.data),y(0===e.data.length)}catch(e){console.error("Error fetching sub-committees:",e),y(!0)}else l([]),y(!0)})()},[u]),(0,r.useEffect)(()=>{(async()=>{if(u||p)try{let e="";if(p?e=`http://localhost:3000/sub-level/sub-committee/${p}`:u&&(e=`http://localhost:3000/sub-level/committee/${u}`),e){let t=(await o.Z.get(e)).data.map(e=>e.levelId);if(t.length>0){let e=(await o.Z.get("http://localhost:3000/levels")).data.filter(e=>t.includes(e.levelId));n(e),S(0===e.length)}else n([]),S(!0)}else n([]),S(!0)}catch(e){console.error("Error fetching levels:",e),n([]),S(!0)}else n([]),S(!0)})()},[u,p]),(0,r.useEffect)(()=>{(async()=>{if(u||p)try{let e="";if(p?e=`http://localhost:3000/structures/subcommittee/${p}`:u&&(e=`http://localhost:3000/structures/committee/${u}`),e){let t=(await o.Z.get(e)).data.map(e=>e.positionId);if(t.length>0){let e=t.map(e=>o.Z.get(`http://localhost:3000/positions/${e}`)),a=(await Promise.all(e)).map(e=>e.data);m(a),E(0===a.length)}else m([]),E(!0)}else m([]),E(!0)}catch(e){console.error("Error fetching positions:",e),m([]),E(!0)}else m([]),E(!0)})()},[u,p]);let K=async e=>{e.preventDefault();try{await o.Z.post("http://localhost:3000/members",{memberName:M,mobileNumber:q,email:F||null,committeeId:""!==u?u:null,subCommitteeId:""!==p?p:null,levelId:""!==h?h:null,positionId:""!==k?k:null,representative:$||null,address:Z||null,province:G||null,district:W||null,municipality:O||null,ward:X||null,remarks:H||null}),console.log("Form submitted successfully"),P(""),I(""),T(""),_(""),D(""),x(""),b(""),f(""),g(""),l([]),n([]),m([]),J("")}catch(e){console.error("Error submitting form:",e)}};return(0,s.jsxs)("div",{className:"w-fit rounded-sm border border-stroke  bg-rose-100 shadow dark:border-strokedark dark:bg-boxdark sm:rounded-lg",children:[s.jsx("div",{className:"border-b border-stroke bg-rose-200 px-7 py-4 shadow dark:border-strokedark sm:rounded-lg",children:s.jsx("h3",{className:"font-medium text-black dark:text-white",children:"सदस्यहरु चयन फारम"})}),s.jsx("div",{className:"p-7",children:(0,s.jsxs)("form",{onSubmit:K,children:[(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"memberName",children:"नाम:"}),s.jsx("input",{type:"text",id:"memberName",value:M,onChange:e=>P(e.target.value),required:!0,className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"mobileNumber",children:"मोबाइल नम्बर:"}),s.jsx("input",{type:"tel",id:"mobileNumber",value:q,onChange:e=>I(e.target.value),required:!0,className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"email",children:"इमेल:"}),s.jsx("input",{type:"email",id:"email",value:F,onChange:e=>T(e.target.value),className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"representative",children:"प्रतिनिधि:"}),s.jsx("input",{type:"text",id:"representative",value:$,onChange:e=>_(e.target.value),className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"address",children:"ठेगाना:"}),s.jsx(d.Z,{onAddressChange:e=>{A(e.province),z(e.district),R(e.municipality),B(e.ward)}})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"committee",children:"समिति:"}),(0,s.jsxs)("select",{id:"committee",value:u,onChange:e=>x(Number(e.target.value)),disabled:v,className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",children:[s.jsx("option",{value:"",children:"-- चयन गर्नुहोस् --"}),e.map(e=>s.jsx("option",{value:e.committeeId,children:e.committeeName},e.committeeId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"subCommittee",children:"उपसमिति:"}),(0,s.jsxs)("select",{id:"subCommittee",value:p,onChange:e=>b(Number(e.target.value)),disabled:w,className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",children:[s.jsx("option",{value:"",children:"-- चयन गर्नुहोस् --"}),a.map(e=>s.jsx("option",{value:e.subCommitteeId,children:e.subCommitteeName},e.subCommitteeId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"level",children:"स्तर:"}),(0,s.jsxs)("select",{id:"level",value:h,onChange:e=>f(Number(e.target.value)),disabled:N,className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",children:[s.jsx("option",{value:"",children:"-- चयन गर्नुहोस् --"}),i.map(e=>s.jsx("option",{value:e.levelId,children:e.levelName},e.levelId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"स्थिति:"}),s.jsx("div",{className:"space-y-2",children:c.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`position-${e.positionId}`,value:e.positionId,checked:k===e.positionId,onChange:()=>g(t=>t===e.positionId?"":e.positionId),disabled:C,className:"mr-2"}),s.jsx("label",{htmlFor:`position-${e.positionId}`,className:"text-sm text-black dark:text-white",children:e.positionName})]},e.positionId))})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"representative",children:"कैफियत:"}),s.jsx("input",{type:"text",id:"remarks",value:H,onChange:e=>J(e.target.value),className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",placeholder:"कैफियत उल्लेख गर्नुहोस्"})]}),s.jsx("div",{className:"flex justify-end space-x-4",children:s.jsx("button",{type:"submit",disabled:v,className:"rounded bg-primary px-4 py-2 text-white",children:"सबमिट"})})]})})]})},c=()=>s.jsx(l.default,{children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[s.jsx(i.Z,{pageName:"संरचना व्यवस्थापन"}),s.jsx("div",{children:s.jsx(n,{})})]})})},9314:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(326),r=a(7577);let l=async()=>{try{let[e,t,a,s]=await Promise.all([fetch("/map-province-districts.json"),fetch("/map-districts-municipalities.json"),fetch("/map-municipalities-wards.json"),fetch("/all-provinces.json")]),r=await e.json(),l=await t.json(),i=await a.json(),o=await s.json();return{provinceToDistrictsMap:r,districtsToMunicipalitiesMap:l,municipalitiesToWardsMap:i,allProvinces:o}}catch(e){return console.error("Error fetching address data:",e),{provinceToDistrictsMap:{},districtsToMunicipalitiesMap:{},municipalitiesToWardsMap:{},allProvinces:[]}}},i=({onAddressChange:e,initialProvince:t="",initialDistrict:a="",initialMunicipality:i="",initialWard:o=""})=>{let[d,n]=(0,r.useState)(t),[c,m]=(0,r.useState)(a),[u,x]=(0,r.useState)(i),[p,b]=(0,r.useState)(o),[h,f]=(0,r.useState)({}),[k,g]=(0,r.useState)({}),[v,j]=(0,r.useState)({}),[w,y]=(0,r.useState)([]),[N,S]=(0,r.useState)([]),[C,E]=(0,r.useState)([]),[M,P]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{let e=await l();f(e.provinceToDistrictsMap),g(e.districtsToMunicipalitiesMap),j(e.municipalitiesToWardsMap),y(e.allProvinces),t&&e.provinceToDistrictsMap[t]&&S(e.provinceToDistrictsMap[t]),a&&e.districtsToMunicipalitiesMap[a]&&E(e.districtsToMunicipalitiesMap[a]),i&&e.municipalitiesToWardsMap[i]&&P(e.municipalitiesToWardsMap[i])})()},[t,a,i]),(0,r.useEffect)(()=>{d?(S(h[d]||[]),a||(m(""),x(""),b(""),E([]),P([]))):(S([]),E([]),P([])),e({province:d,district:"",municipality:"",ward:""})},[d]),(0,r.useEffect)(()=>{c?(E(k[c]||[]),i||(x(""),b(""),P([]))):(E([]),P([])),e({province:d,district:c,municipality:"",ward:""})},[c]),(0,r.useEffect)(()=>{u?(P(v[u]||[]),o||b("")):P([]),e({province:d,district:c,municipality:u,ward:""})},[u]),(0,r.useEffect)(()=>{e({province:d,district:c,municipality:u,ward:p})},[p]),s.jsx("div",{className:"flex flex-col gap-6",children:(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("label",{className:"text-small mb-1 block rounded border border-black bg-slate-400 text-center font-medium text-black dark:text-white",children:"प्रदेश:"}),(0,s.jsxs)("select",{value:d,onChange:e=>n(e.target.value),className:`w-fit rounded border bg-white px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ${""===d?"text-gray-500":"text-black"}`,children:[s.jsx("option",{value:"",className:"text-gray-500",children:"प्रदेश छान्नुहोस्"}),w.map(e=>s.jsx("option",{value:e,className:"text-black",children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"जिल्ला:"}),(0,s.jsxs)("select",{value:c,onChange:e=>m(e.target.value),disabled:!d,className:`w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ${""===c?"text-gray-500":"text-black"} ${d?"bg-white":"bg-gray-50 cursor-not-allowed"}`,children:[s.jsx("option",{value:"",className:"text-gray-500",children:"जिल्ला छान्नुहोस्"}),N.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"पालिका:"}),(0,s.jsxs)("select",{value:u,onChange:e=>x(e.target.value),disabled:!c,className:`w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white ${""===u?"text-gray-500":"text-black"} ${c?"bg-white":"bg-gray-50 cursor-not-allowed"}`,children:[s.jsx("option",{value:"",className:"text-gray-500",children:"पालिका छान्नुहोस्"}),C.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"वडा:"}),(0,s.jsxs)("select",{value:p,onChange:e=>b(e.target.value),disabled:!u,className:`w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ${""===p?"text-gray-500":"text-black"} ${u?"bg-white":"bg-gray-50 cursor-not-allowed"}`,children:[s.jsx("option",{value:"",className:"text-gray-500",children:"वडा छान्नुहोस्"}),M.map(e=>s.jsx("option",{value:e,children:e},e))]})]})]})})}},19:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(326),r=a(434);let l=({pageName:e})=>(0,s.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:e}),s.jsx("nav",{children:(0,s.jsxs)("ol",{className:"flex items-center gap-2",children:[s.jsx("li",{children:s.jsx(r.default,{className:"font-medium",href:"/",children:"गृह पृष्ठ /"})}),s.jsx("li",{className:"font-medium text-primary",children:e})]})})]})},2252:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/membersForm/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[948,110,401,99,984],()=>a(851));module.exports=s})();