(()=>{var e={};e.id=320,e.ids=[320],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7986:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(8098),r(2029),r(5866);var s=r(3191),a=r(8716),o=r(7922),l=r.n(o),i=r(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let d=["",{children:["forms",{children:["representativesForm",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8098)),"/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/representativesForm/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/representativesForm/page.tsx"],m="/forms/representativesForm/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/forms/representativesForm/page",pathname:"/forms/representativesForm",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5197:(e,t,r)=>{Promise.resolve().then(r.bind(r,281))},281:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(326),a=r(7577),o=r(5048),l=r(19),i=r(4099);let n=()=>{let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)([]),[l,n]=(0,a.useState)([]),[d,c]=(0,a.useState)(""),[m,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),[b,x]=(0,a.useState)(!0),[f,g]=(0,a.useState)(!0),[v,k]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await i.Z.get("http://localhost:3000/committees");t(e.data),x(0===e.data.length)}catch(e){console.error("Error fetching committees:",e),x(!0)}})()},[]),(0,a.useEffect)(()=>{(async()=>{if(d)try{let e=await i.Z.get(`http://localhost:3000/sub-committees/committee/${d}`);o(e.data),g(0===e.data.length)}catch(e){console.error("Error fetching sub-committees:",e),g(!0)}else o([]),g(!0)})()},[d]),(0,a.useEffect)(()=>{(async()=>{try{let e="";if(m?e=`http://localhost:3000/sub-level/sub-committee/${m}`:d&&(e=`http://localhost:3000/sub-level/committee/${d}`),!e){n([]),k(!0);return}let t=(await i.Z.get(e)).data.map(e=>e.levelId);if(t.length>0){let e=(await i.Z.get("http://localhost:3000/levels")).data.filter(e=>t.includes(e.levelId));n(e),k(0===e.length)}else n([]),k(!0)}catch(e){console.error("Error fetching levels:",e),n([]),k(!0)}})()},[d,m]);let y=async e=>{e.preventDefault();let t={committeeId:parseInt(d,10),subCommitteeId:m?parseInt(m,10):null,levelId:parseInt(p,10),representativeId:null};try{await i.Z.post("http://localhost:3000/structures",t),console.log("Form submitted successfully"),c(""),u(""),h(""),o([]),n([])}catch(e){console.error("Error submitting form:",e)}};return(0,s.jsxs)("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[s.jsx("div",{className:"border-b border-stroke px-7 py-4 dark:border-strokedark",children:s.jsx("h3",{className:"font-medium text-black dark:text-white",children:"प्रतिनिधिहरु चयन फारम"})}),s.jsx("div",{className:"p-7",children:(0,s.jsxs)("form",{onSubmit:y,children:[(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"committee",children:"समिति चयन गर्नुहोस्:"}),(0,s.jsxs)("select",{id:"committee",value:d,onChange:e=>{c(e.target.value),u(""),n([])},required:!0,disabled:b,className:`w-full rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white ${b?"bg-gray-200 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 focus:border-primary"}`,children:[s.jsx("option",{value:"",disabled:!0,children:"समिति चयन गर्नुहोस्"}),e.map(e=>s.jsx("option",{value:e.committeeId.toString(),children:e.committeeName},e.committeeId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"subCommittee",children:"उपसमिति चयन गर्नुहोस्:"}),(0,s.jsxs)("select",{id:"subCommittee",value:m,onChange:e=>u(e.target.value),disabled:f,className:`w-full rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white ${f?"bg-gray-200 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 focus:border-primary"}`,children:[s.jsx("option",{value:"",disabled:!0,children:"उपसमिति चयन गर्नुहोस्"}),r.map(e=>s.jsx("option",{value:e.subCommitteeId.toString(),children:e.subCommitteeName},e.subCommitteeId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"level",children:"तह चयन गर्नुहोस्:"}),(0,s.jsxs)("select",{id:"level",value:p,onChange:e=>h(e.target.value),disabled:v,className:`w-full rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white ${v?"bg-gray-200 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 focus:border-primary"}`,children:[s.jsx("option",{value:"",disabled:!0,children:"तह चयन गर्नुहोस्"}),l.map(e=>s.jsx("option",{value:e.levelId.toString(),children:e.levelName},e.levelId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"representative",children:"प्रतिनिधिहरु चयन गर्नुहोस्:"}),s.jsx("select",{id:"representative",disabled:!0,className:"bg-gray-200 w-full cursor-not-allowed rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",children:s.jsx("option",{value:"",disabled:!0,children:"प्रतिनिधिहरु चयन गर्नुहोस्"})})]}),s.jsx("button",{type:"submit",className:"hover:bg-primary-dark focus:bg-primary-dark inline-flex items-center justify-center rounded bg-primary px-4 py-2 text-center font-medium text-white focus:outline-none",disabled:v,children:"सेभ गर्नुहोस्"})]})})]})},d=()=>s.jsx(o.default,{children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[s.jsx(l.Z,{pageName:"संरचना व्यवस्थापन"}),s.jsx("div",{className:"bg-white p-6 shadow sm:rounded-lg",children:s.jsx(n,{})})]})})},19:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(326),a=r(434);let o=({pageName:e})=>(0,s.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:e}),s.jsx("nav",{children:(0,s.jsxs)("ol",{className:"flex items-center gap-2",children:[s.jsx("li",{children:s.jsx(a.default,{className:"font-medium",href:"/",children:"गृह पृष्ठ /"})}),s.jsx("li",{className:"font-medium text-primary",children:e})]})})]})},8098:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/representativesForm/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,110,401,99,984],()=>r(7986));module.exports=s})();