(()=>{var e={};e.id=821,e.ids=[821],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9070:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(6837),r(2029),r(5866);var s=r(3191),a=r(8716),o=r(7922),l=r.n(o),i=r(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let d=["",{children:["forms",{children:["structuresForm",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6837)),"/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/structuresForm/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/structuresForm/page.tsx"],m="/forms/structuresForm/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/forms/structuresForm/page",pathname:"/forms/structuresForm",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9341:(e,t,r)=>{Promise.resolve().then(r.bind(r,9726))},9726:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(326),a=r(7577),o=r(5048),l=r(19),i=r(4099);let n=()=>{let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)([]),[l,n]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[m,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),[x,b]=(0,a.useState)(""),[g,f]=(0,a.useState)(new Set),[v,k]=(0,a.useState)(!0),[y,j]=(0,a.useState)(!0),[w,N]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await i.Z.get("http://localhost:3000/committees");t(e.data),k(0===e.data.length)}catch(e){console.error("Error fetching committees:",e),k(!0)}})()},[]),(0,a.useEffect)(()=>{(async()=>{if(m)try{let e=await i.Z.get(`http://localhost:3000/sub-committees/committee/${m}`);o(e.data),j(0===e.data.length)}catch(e){console.error("Error fetching sub-committees:",e),j(!0)}else o([]),j(!0)})()},[m]),(0,a.useEffect)(()=>{(async()=>{try{let e="";if(p?e=`http://localhost:3000/sub-level/sub-committee/${p}`:m&&(e=`http://localhost:3000/sub-level/committee/${m}`),!e){n([]),N(!0);return}let t=(await i.Z.get(e)).data.map(e=>e.levelId);if(t.length>0){let e=(await i.Z.get("http://localhost:3000/levels")).data.filter(e=>t.includes(e.levelId));n(e),N(0===e.length)}else n([]),N(!0)}catch(e){console.error("Error fetching levels:",e),n([]),N(!0)}})()},[m,p]),(0,a.useEffect)(()=>{(async()=>{try{let e=await i.Z.get("http://localhost:3000/positions");c(e.data)}catch(e){console.error("Error fetching positions:",e),c([])}})()},[]);let C=e=>{f(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},S=async e=>{e.preventDefault();let t={committeeId:parseInt(m,10),subCommitteeId:p?parseInt(p,10):null,levelId:parseInt(x,10),positionIds:Array.from(g)};try{await i.Z.post("http://localhost:3000/structures",t),console.log("Form submitted successfully"),u(""),h(""),b(""),f(new Set),o([]),n([])}catch(e){console.error("Error submitting form:",e)}};return(0,s.jsxs)("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[s.jsx("div",{className:"border-b border-stroke px-7 py-4 dark:border-strokedark",children:s.jsx("h3",{className:"font-medium text-black dark:text-white",children:"संरचना प्रविष्टी फारम"})}),s.jsx("div",{className:"p-7",children:(0,s.jsxs)("form",{onSubmit:S,children:[(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"committee",children:"समिति चयन गर्नुहोस्:"}),(0,s.jsxs)("select",{id:"committee",value:m,onChange:e=>{u(e.target.value),h(""),n([]),f(new Set)},required:!0,disabled:v,className:`w-full rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white ${v?"bg-gray-200 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 focus:border-primary"}`,children:[s.jsx("option",{value:"",disabled:!0,children:"समिति चयन गर्नुहोस्"}),e.map(e=>s.jsx("option",{value:e.committeeId.toString(),children:e.committeeName},e.committeeId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"subCommittee",children:"उपसमिति चयन गर्नुहोस्:"}),(0,s.jsxs)("select",{id:"subCommittee",value:p,onChange:e=>h(e.target.value),disabled:y,className:`w-full rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white ${y?"bg-gray-200 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 focus:border-primary"}`,children:[s.jsx("option",{value:"",disabled:!0,children:"उपसमिति चयन गर्नुहोस्"}),r.map(e=>s.jsx("option",{value:e.subCommitteeId.toString(),children:e.subCommitteeName},e.subCommitteeId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"level",children:"तह चयन गर्नुहोस्:"}),(0,s.jsxs)("select",{id:"level",value:x,onChange:e=>b(e.target.value),disabled:w,className:`w-full rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white ${w?"bg-gray-200 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 focus:border-primary"}`,children:[s.jsx("option",{value:"",disabled:!0,children:"तह चयन गर्नुहोस्"}),l.map(e=>s.jsx("option",{value:e.levelId.toString(),children:e.levelName},e.levelId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"positions",children:"पदहरु चयन गर्नुहोस्:"}),s.jsx("div",{className:"space-y-2",children:d.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("input",{id:`position-${e.positionId}`,type:"checkbox",checked:g.has(e.positionId),onChange:()=>C(e.positionId),className:"mr-2"}),s.jsx("label",{htmlFor:`position-${e.positionId}`,className:"text-sm text-black dark:text-white",children:e.positionName})]},e.positionId))})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("button",{type:"submit",className:"hover:bg-primary-dark rounded bg-primary px-6 py-2.5 text-sm font-medium text-white shadow-md",disabled:v,children:"सुरक्षित गर्नुहोस्"}),s.jsx("button",{type:"button",onClick:()=>{u(""),h(""),b(""),f(new Set),o([]),n([])},className:"bg-gray-200 hover:bg-gray-300 rounded px-6 py-2.5 text-sm font-medium text-black shadow-md",children:"रद्द गर्नुहोस्"})]})]})})]})},d=()=>s.jsx(o.default,{children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[s.jsx(l.Z,{pageName:"संरचना व्यवस्थापन"}),s.jsx("div",{className:"bg-white p-6 shadow sm:rounded-lg",children:s.jsx(n,{})})]})})},19:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(326),a=r(434);let o=({pageName:e})=>(0,s.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:e}),s.jsx("nav",{children:(0,s.jsxs)("ol",{className:"flex items-center gap-2",children:[s.jsx("li",{children:s.jsx(a.default,{className:"font-medium",href:"/",children:"गृह पृष्ठ /"})}),s.jsx("li",{className:"font-medium text-primary",children:e})]})})]})},6837:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/structuresForm/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,110,401,99,984],()=>r(9070));module.exports=s})();