(()=>{var e={};e.id=319,e.ids=[319],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7656:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(3423),a(2029),a(5866);var s=a(3191),r=a(8716),i=a(7922),l=a.n(i),n=a(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["forms",{children:["updateEventsForm",{children:["[eventId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3423)),"/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/updateEventsForm/[eventId]/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,2029)),"/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/updateEventsForm/[eventId]/page.tsx"],u="/forms/updateEventsForm/[eventId]/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/forms/updateEventsForm/[eventId]/page",pathname:"/forms/updateEventsForm/[eventId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},363:(e,t,a)=>{Promise.resolve().then(a.bind(a,1675))},1675:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(326),r=a(7577),i=a(5048),l=a(19),n=a(4099),o=a(9314),d=a(713);a(7866);var c=a(5047);let u=({eventId:e})=>{let t=(0,c.useRouter)(),[a,i]=(0,r.useState)(null),[l,u]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[p,b]=(0,r.useState)(""),[h,v]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[k,y]=(0,r.useState)(""),[w,j]=(0,r.useState)(""),[N,S]=(0,r.useState)(""),[E,M]=(0,r.useState)(""),[C,P]=(0,r.useState)(""),[q,T]=(0,r.useState)(""),[D,F]=(0,r.useState)("");(0,r.useEffect)(()=>{e&&(async()=>{try{let t=(await n.Z.get(`http://localhost:3000/events/${e}`)).data;i(t),u(t.eventHeading||""),x(t.eventDetails||""),b(t.eventDate||""),v(t.eventTime||""),g(t.address||""),y(t.province||""),j(t.district||""),S(t.municipality||""),M(t.ward||""),P(t.venue||""),T(t.eventOrganizer||""),F(t.remarks||"")}catch(e){console.error("Error fetching event:",e)}})()},[e]);let _=async a=>{a.preventDefault();try{await n.Z.put(`http://localhost:3000/events/${e}`,{eventHeading:l,eventDetails:m,eventDate:p,eventTime:h,address:f||"अन्य",province:k||null,district:w||null,municipality:N||null,ward:E||null,venue:C||null,eventOrganizer:q||null,remarks:D||null}),console.log("Form submitted successfully"),t.push("/events/list")}catch(e){console.error("Error submitting form:",e)}};return(0,s.jsxs)("div",{className:"w-fit rounded border  bg-rose-100 shadow  dark:bg-boxdark ",children:[s.jsx("div",{className:"rounded border-b bg-rose-200 px-7 py-4  shadow",children:s.jsx("h3",{className:"font-medium text-black dark:text-white",children:"कार्यक्रम विवरण प्रविष्टि फारम"})}),s.jsx("div",{className:"p-7",children:(0,s.jsxs)("form",{onSubmit:_,children:[(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventHeading",children:"कार्यक्रमको शिर्षक:"}),s.jsx("input",{type:"text",id:"eventHeading",value:l,onChange:e=>u(e.target.value),required:!0,className:"bg-gray-50 w-full rounded border px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventDetails",children:"कार्यक्रमको विवरण:"}),s.jsx("input",{type:"text",id:"eventDetails",value:m,onChange:e=>x(e.target.value),required:!0,className:"bg-gray-50 w-full rounded border  px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventDate",children:"कार्यक्रमको मिति:"}),s.jsx(d.P,{inputClassName:"bg-gray-50 w-full rounded border shadow px-4.5 py-3 text-black focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white",value:p,onChange:e=>{b(e)},options:{calenderLocale:"ne",valueLocale:"en"}})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventTime",children:"कार्यक्रमको समय:"}),s.jsx("input",{type:"time",id:"eventTime",name:"eventTime",className:"bg-gray-50 w-full rounded border px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",value:h,onChange:e=>v(e.target.value)})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"address",children:"ठेगाना:"}),a&&s.jsx(o.Z,{initialProvince:a.province,initialDistrict:a.district,initialMunicipality:a.municipality,initialWard:a.ward,onAddressChange:e=>{y(e.province),j(e.district),S(e.municipality),M(e.ward)}})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"venue",children:"कार्यक्रम स्थल:"}),s.jsx("input",{type:"text",id:"venue",value:C,onChange:e=>P(e.target.value),className:"bg-gray-50 w-full rounded border  px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventOrganizer",children:"कार्यक्रमको आयोजक संस्था:"}),s.jsx("input",{type:"text",id:"eventOrganizer",value:q,onChange:e=>T(e.target.value),className:"bg-gray-50 w-full rounded border px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[s.jsx("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"remarks",children:"कैफियत:"}),s.jsx("input",{type:"text",id:"remarks",value:D,onChange:e=>F(e.target.value),className:"bg-gray-50 w-full rounded border px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white"})]}),s.jsx("div",{className:"flex justify-end gap-4.5",children:s.jsx("button",{type:"submit",className:"inline-flex items-center rounded border bg-primary px-5 py-2 text-base font-medium text-white transition hover:bg-opacity-90",children:"अपडेट गर्नुहोस्"})})]})})]})},m=({params:e})=>{let t=Array.isArray(e.eventId)?e.eventId[0]:e.eventId;return(0,r.useEffect)(()=>{console.log("params from wrapper:",e.eventId),console.log("params:",e)},[]),s.jsx(i.default,{children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[s.jsx(l.Z,{pageName:"कार्यक्रम विवरण अद्यावधिक गर्नुहोस्"}),s.jsx("div",{children:s.jsx(u,{eventId:t})})]})})}},9314:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(326),r=a(7577);let i=async()=>{try{let[e,t,a,s]=await Promise.all([fetch("/map-province-districts.json"),fetch("/map-districts-municipalities.json"),fetch("/map-municipalities-wards.json"),fetch("/all-provinces.json")]),r=await e.json(),i=await t.json(),l=await a.json(),n=await s.json();return{provinceToDistrictsMap:r,districtsToMunicipalitiesMap:i,municipalitiesToWardsMap:l,allProvinces:n}}catch(e){return console.error("Error fetching address data:",e),{provinceToDistrictsMap:{},districtsToMunicipalitiesMap:{},municipalitiesToWardsMap:{},allProvinces:[]}}},l=({onAddressChange:e,initialProvince:t="",initialDistrict:a="",initialMunicipality:l="",initialWard:n=""})=>{let[o,d]=(0,r.useState)(t),[c,u]=(0,r.useState)(a),[m,x]=(0,r.useState)(l),[p,b]=(0,r.useState)(n),[h,v]=(0,r.useState)({}),[f,g]=(0,r.useState)({}),[k,y]=(0,r.useState)({}),[w,j]=(0,r.useState)([]),[N,S]=(0,r.useState)([]),[E,M]=(0,r.useState)([]),[C,P]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{let e=await i();v(e.provinceToDistrictsMap),g(e.districtsToMunicipalitiesMap),y(e.municipalitiesToWardsMap),j(e.allProvinces),t&&e.provinceToDistrictsMap[t]&&S(e.provinceToDistrictsMap[t]),a&&e.districtsToMunicipalitiesMap[a]&&M(e.districtsToMunicipalitiesMap[a]),l&&e.municipalitiesToWardsMap[l]&&P(e.municipalitiesToWardsMap[l])})()},[t,a,l]),(0,r.useEffect)(()=>{o?(S(h[o]||[]),a||(u(""),x(""),b(""),M([]),P([]))):(S([]),M([]),P([])),e({province:o,district:"",municipality:"",ward:""})},[o]),(0,r.useEffect)(()=>{c?(M(f[c]||[]),l||(x(""),b(""),P([]))):(M([]),P([])),e({province:o,district:c,municipality:"",ward:""})},[c]),(0,r.useEffect)(()=>{m?(P(k[m]||[]),n||b("")):P([]),e({province:o,district:c,municipality:m,ward:""})},[m]),(0,r.useEffect)(()=>{e({province:o,district:c,municipality:m,ward:p})},[p]),s.jsx("div",{className:"flex flex-col gap-6",children:(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("label",{className:"text-small mb-1 block rounded border border-black bg-slate-400 text-center font-medium text-black dark:text-white",children:"प्रदेश:"}),(0,s.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:`w-fit rounded border bg-white px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ${""===o?"text-gray-500":"text-black"}`,children:[s.jsx("option",{value:"",className:"text-gray-500",children:"प्रदेश छान्नुहोस्"}),w.map(e=>s.jsx("option",{value:e,className:"text-black",children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"जिल्ला:"}),(0,s.jsxs)("select",{value:c,onChange:e=>u(e.target.value),disabled:!o,className:`w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ${""===c?"text-gray-500":"text-black"} ${o?"bg-white":"bg-gray-50 cursor-not-allowed"}`,children:[s.jsx("option",{value:"",className:"text-gray-500",children:"जिल्ला छान्नुहोस्"}),N.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"पालिका:"}),(0,s.jsxs)("select",{value:m,onChange:e=>x(e.target.value),disabled:!c,className:`w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white ${""===m?"text-gray-500":"text-black"} ${c?"bg-white":"bg-gray-50 cursor-not-allowed"}`,children:[s.jsx("option",{value:"",className:"text-gray-500",children:"पालिका छान्नुहोस्"}),E.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"वडा:"}),(0,s.jsxs)("select",{value:p,onChange:e=>b(e.target.value),disabled:!m,className:`w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ${""===p?"text-gray-500":"text-black"} ${m?"bg-white":"bg-gray-50 cursor-not-allowed"}`,children:[s.jsx("option",{value:"",className:"text-gray-500",children:"वडा छान्नुहोस्"}),C.map(e=>s.jsx("option",{value:e,children:e},e))]})]})]})})}},19:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var s=a(326),r=a(434);let i=({pageName:e})=>(0,s.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:e}),s.jsx("nav",{children:(0,s.jsxs)("ol",{className:"flex items-center gap-2",children:[s.jsx("li",{children:s.jsx(r.default,{className:"font-medium",href:"/",children:"गृह पृष्ठ /"})}),s.jsx("li",{className:"font-medium text-primary",children:e})]})})]})},3423:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/forms/updateEventsForm/[eventId]/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[948,110,401,99,500,984],()=>a(7656));module.exports=s})();