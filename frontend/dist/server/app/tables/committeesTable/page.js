(()=>{var e={};e.id=399,e.ids=[399],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7236:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>n,routeModule:()=>x,tree:()=>o}),a(3680),a(2029),a(5866);var s=a(3191),r=a(8716),l=a(7922),i=a.n(l),d=a(5231),c={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);a.d(t,c);let o=["",{children:["tables",{children:["committeesTable",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3680)),"/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/tables/committeesTable/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,2029)),"/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],n=["/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/tables/committeesTable/page.tsx"],m="/tables/committeesTable/page",p={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/tables/committeesTable/page",pathname:"/tables/committeesTable",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8647:(e,t,a)=>{Promise.resolve().then(a.bind(a,7481))},7481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(326),r=a(7577),l=a(5048),i=a(19),d=a(4099);let c=()=>{let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)({}),[i,c]=(0,r.useState)({}),[o,n]=(0,r.useState)([]),[m,p]=(0,r.useState)([]),[x,u]=(0,r.useState)({}),[h,b]=(0,r.useState)(!0),[f,j]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{b(!0),j(null);let e=await d.Z.get("http://localhost:3000/committees");t(e.data);let s=(await d.Z.get("http://localhost:3000/levels")).data.reduce((e,t)=>({...e,[t.levelId]:t.levelName}),{});c(s);let r=(await Promise.all(e.data.map(async e=>{try{let t=await d.Z.get(`http://localhost:3000/sub-committees/committee/${e.committeeId}`);return{[e.committeeId]:t.data}}catch{return{[e.committeeId]:[]}}}))).reduce((e,t)=>({...e,...t}),{});l(r);let i=await d.Z.get("http://localhost:3000/sub-level");n(i.data);let o=await Promise.all(e.data.flatMap(async e=>{try{let t=(await d.Z.get(`http://localhost:3000/structures/committee/${e.committeeId}`)).data,s=(await Promise.all(a[e.committeeId]?.map(async e=>d.Z.get(`http://localhost:3000/structures/subcommittee/${e.subCommitteeId}`))||[])).flatMap(e=>e.data);return[...t,...s]}catch{return[]}}));p(o.flat());let m=Array.from(new Set(o.flat().map(e=>e.positionId))),x=(await Promise.all(m.map(e=>d.Z.get(`http://localhost:3000/positions/${e}`)))).reduce((e,t)=>({...e,[t.data.positionId]:t.data.positionName}),{});u(x)}catch(e){console.error("Error fetching data:",e),j("Failed to load data.")}finally{b(!1)}})()},[]);let g=(e,t)=>o.filter(a=>a.committeeId===e&&(null===t||a.subCommitteeId===t)).map(e=>i[e.levelId]||"-").join(", ")||"-",v=(e,t)=>m.filter(a=>a.committeeId===e&&(null===t||a.subCommitteeId===t)).map(e=>x[e.positionId]||"-").join(", ")||"-";return h?s.jsx("p",{children:"Loading data..."}):f?s.jsx("p",{className:"text-red-500",children:f}):(0,s.jsxs)("div",{className:"rounded-sm border border-stroke bg-white px-5 pb-2.5 pt-6 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1",children:[s.jsx("h4",{className:"mb-6 text-xl font-semibold text-black dark:text-white",children:"समिति तालिका"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("div",{className:"grid grid-cols-8 rounded-sm bg-gray-2 dark:bg-meta-4",children:["क्रम संख्या","समिति आईडी","समिति को नाम","उपसमिति","तह","सचर् सूची / सदस्य संख्या / स्थिति","सम्पादन/हेर्नु/हटाउनु","रिपोर्ट निर्यात गर्नुहोस्"].map((e,t)=>s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("h5",{className:"text-sm font-medium uppercase xsm:text-base",children:e})},t))}),e.map((t,r)=>(0,s.jsxs)("div",{className:`grid grid-cols-8 ${r===e.length-1?"":"border-b border-stroke dark:border-strokedark"}`,children:[s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("p",{className:"text-black dark:text-white",children:r+1})}),s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("p",{className:"text-black dark:text-white",children:t.committeeId})}),s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("p",{className:"text-black dark:text-white",children:t.committeeName})}),s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("p",{className:"text-black dark:text-white",children:a[t.committeeId]?.map(e=>e.subCommitteeName).join(", ")||"-"})}),s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("p",{className:"text-black dark:text-white",children:g(t.committeeId,null)})}),s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("p",{className:"text-black dark:text-white",children:v(t.committeeId,null)})}),s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("p",{className:"text-black dark:text-white",children:"-"})}),s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("p",{className:"text-black dark:text-white",children:"-"})}),s.jsx("div",{className:"p-2.5 xl:p-5",children:s.jsx("p",{className:"text-black dark:text-white",children:"-"})})]},t.committeeId))]})]})},o=()=>s.jsx(l.default,{children:(0,s.jsxs)("div",{className:"max-w-800 mx-auto px-4 py-8",children:[s.jsx(i.Z,{pageName:"समिति तालिका"}),s.jsx("div",{className:"bg-white p-6 shadow sm:rounded-lg",children:s.jsx(c,{})})]})})},19:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(326),r=a(434);let l=({pageName:e})=>(0,s.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsx("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:e}),s.jsx("nav",{children:(0,s.jsxs)("ol",{className:"flex items-center gap-2",children:[s.jsx("li",{children:s.jsx(r.default,{className:"font-medium",href:"/",children:"गृह पृष्ठ /"})}),s.jsx("li",{className:"font-medium text-primary",children:e})]})})]})},3680:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/home/ayushbhattarai/Development/Encraft/NC Campaign/frontend/src/app/tables/committeesTable/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[948,110,401,99,984],()=>a(7236));module.exports=s})();