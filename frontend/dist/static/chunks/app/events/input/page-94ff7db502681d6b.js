(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1992],{6910:function(e,t,a){Promise.resolve().then(a.bind(a,6545))},6545:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(7437),r=a(2265),l=a(9133),i=a(2270),n=a(8472),c=a(9541),o=a(3069);a(5918);var d=a(6463),u=()=>{let e=(0,d.useRouter)(),[t,a]=(0,r.useState)(""),[l,i]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[x,b]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[k,v]=(0,r.useState)(""),[w,j]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[S,M]=(0,r.useState)(""),[T,C]=(0,r.useState)(""),[E,D]=(0,r.useState)(""),F=async a=>{a.preventDefault();try{await n.Z.post("http://localhost:3000/events",{eventHeading:t,eventDetails:l,eventDate:u,eventTime:x,address:h||"अन्य",province:f||null,district:k||null,municipality:w||null,ward:y||null,venue:S||null,eventOrganizer:T||null,remarks:E||null}),console.log("Form submitted successfully"),e.push("/events/list")}catch(e){console.error("Error submitting form:",e)}};return(0,s.jsxs)("div",{className:"w-fit rounded border  bg-rose-100 shadow dark:bg-boxdark",children:[(0,s.jsx)("div",{className:"rounded border-b bg-rose-200 px-7 py-4",children:(0,s.jsx)("h3",{className:"font-medium text-black dark:text-white",children:"कार्यक्रम विवरण प्रविष्टि फारम"})}),(0,s.jsx)("div",{className:"p-7",children:(0,s.jsxs)("form",{onSubmit:F,children:[(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventHeading",children:"कार्यक्रमको शिर्षक:"}),(0,s.jsx)("input",{type:"text",id:"eventHeading",value:t,onChange:e=>a(e.target.value),required:!0,className:"bg-gray-50 w-full rounded border px-4.5 py-3 text-black shadow focus:border-primary  focus:outline-none dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventDetails",children:"कार्यक्रमको विवरण:"}),(0,s.jsx)("input",{type:"text",id:"eventDetails",value:l,onChange:e=>i(e.target.value),required:!0,className:"bg-gray-50 w-full rounded border px-4.5 py-3 text-black shadow focus:border-primary  focus:outline-none dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventDate",children:"कार्यक्रमको मिति:"}),(0,s.jsx)(o.P,{inputClassName:"bg-gray-50 w-full rounded border  px-4.5 py-3 text-black focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white shadow",value:u,onChange:e=>{m(e)},options:{calenderLocale:"ne",valueLocale:"en"}})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventTime",children:"कार्यक्रमको समय:"}),(0,s.jsx)("input",{type:"time",id:"eventTime",name:"eventTime",className:"bg-gray-50 w-full rounded border  px-4.5 py-3 text-black shadow focus:border-primary  focus:outline-none dark:bg-meta-4 dark:text-white",value:x,onChange:e=>b(e.target.value)})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"address",children:"ठेगाना:"}),(0,s.jsx)(c.Z,{onAddressChange:e=>{g(e.province),v(e.district),j(e.municipality),N(e.ward)}})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"venue",children:"कार्यक्रम स्थल:"}),(0,s.jsx)("input",{type:"text",id:"venue",value:S,onChange:e=>M(e.target.value),className:"bg-gray-50 w-full rounded border  px-4.5 py-3 text-black shadow focus:border-primary  focus:outline-none dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventOrganizer",children:"कार्यक्रम आयोजक:"}),(0,s.jsx)("textarea",{id:"eventOrganizer",value:T,onChange:e=>C(e.target.value),className:"bg-gray-50 w-full rounded border  px-4.5 py-3 text-black shadow focus:border-primary  focus:outline-none dark:bg-meta-4 dark:text-white",placeholder:"कार्यक्रमको आयोजकउल्लेख गर्नुहोस्"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"representative",children:"कैफियत:"}),(0,s.jsx)("textarea",{id:"remarks",value:E,onChange:e=>D(e.target.value),className:"bg-gray-50 w-full rounded border  px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white",placeholder:"कैफियत उल्लेख गर्नुहोस्"})]}),(0,s.jsx)("button",{type:"submit",className:"inline-flex items-center rounded border bg-primary px-5 py-2 text-base font-medium text-white transition hover:bg-opacity-90",children:"सुरक्षित गर्नुहोस्"})]})})]})},m=()=>(0,s.jsx)(l.default,{children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[(0,s.jsx)(i.Z,{pageName:"कार्यक्रम व्यवस्थापन"}),(0,s.jsx)("div",{children:(0,s.jsx)(u,{})})]})})},9541:function(e,t,a){"use strict";var s=a(7437),r=a(2265);let l=async()=>{try{let[e,t,a,s]=await Promise.all([fetch("/map-province-districts.json"),fetch("/map-districts-municipalities.json"),fetch("/map-municipalities-wards.json"),fetch("/all-provinces.json")]),r=await e.json(),l=await t.json(),i=await a.json(),n=await s.json();return{provinceToDistrictsMap:r,districtsToMunicipalitiesMap:l,municipalitiesToWardsMap:i,allProvinces:n}}catch(e){return console.error("Error fetching address data:",e),{provinceToDistrictsMap:{},districtsToMunicipalitiesMap:{},municipalitiesToWardsMap:{},allProvinces:[]}}};t.Z=e=>{let{onAddressChange:t,initialProvince:a="",initialDistrict:i="",initialMunicipality:n="",initialWard:c=""}=e,[o,d]=(0,r.useState)(a),[u,m]=(0,r.useState)(i),[x,b]=(0,r.useState)(n),[h,p]=(0,r.useState)(c),[f,g]=(0,r.useState)({}),[k,v]=(0,r.useState)({}),[w,j]=(0,r.useState)({}),[y,N]=(0,r.useState)([]),[S,M]=(0,r.useState)([]),[T,C]=(0,r.useState)([]),[E,D]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{let e=await l();g(e.provinceToDistrictsMap),v(e.districtsToMunicipalitiesMap),j(e.municipalitiesToWardsMap),N(e.allProvinces),a&&e.provinceToDistrictsMap[a]&&M(e.provinceToDistrictsMap[a]),i&&e.districtsToMunicipalitiesMap[i]&&C(e.districtsToMunicipalitiesMap[i]),n&&e.municipalitiesToWardsMap[n]&&D(e.municipalitiesToWardsMap[n])})()},[a,i,n]),(0,r.useEffect)(()=>{o?(M(f[o]||[]),i||(m(""),b(""),p(""),C([]),D([]))):(M([]),C([]),D([])),t({province:o,district:"",municipality:"",ward:""})},[o]),(0,r.useEffect)(()=>{u?(C(k[u]||[]),n||(b(""),p(""),D([]))):(C([]),D([])),t({province:o,district:u,municipality:"",ward:""})},[u]),(0,r.useEffect)(()=>{x?(D(w[x]||[]),c||p("")):D([]),t({province:o,district:u,municipality:x,ward:""})},[x]),(0,r.useEffect)(()=>{t({province:o,district:u,municipality:x,ward:h})},[h]),(0,s.jsx)("div",{className:"flex flex-col gap-6",children:(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border border-black bg-slate-400 text-center font-medium text-black dark:text-white",children:"प्रदेश:"}),(0,s.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"w-fit rounded border bg-white px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ".concat(""===o?"text-gray-500":"text-black"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"प्रदेश छान्नुहोस्"}),y.map(e=>(0,s.jsx)("option",{value:e,className:"text-black",children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"जिल्ला:"}),(0,s.jsxs)("select",{value:u,onChange:e=>m(e.target.value),disabled:!o,className:"w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ".concat(""===u?"text-gray-500":"text-black"," ").concat(o?"bg-white":"bg-gray-50 cursor-not-allowed"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"जिल्ला छान्नुहोस्"}),S.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"पालिका:"}),(0,s.jsxs)("select",{value:x,onChange:e=>b(e.target.value),disabled:!u,className:"w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white ".concat(""===x?"text-gray-500":"text-black"," ").concat(u?"bg-white":"bg-gray-50 cursor-not-allowed"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"पालिका छान्नुहोस्"}),T.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"वडा:"}),(0,s.jsxs)("select",{value:h,onChange:e=>p(e.target.value),disabled:!x,className:"w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ".concat(""===h?"text-gray-500":"text-black"," ").concat(x?"bg-white":"bg-gray-50 cursor-not-allowed"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"वडा छान्नुहोस्"}),E.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]})})}},2270:function(e,t,a){"use strict";var s=a(7437),r=a(7138);t.Z=e=>{let{pageName:t}=e;return(0,s.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsx)("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:t}),(0,s.jsx)("nav",{children:(0,s.jsxs)("ol",{className:"flex items-center gap-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(r.default,{className:"font-medium",href:"/",children:"गृह पृष्ठ /"})}),(0,s.jsx)("li",{className:"font-medium text-primary",children:t})]})})]})}}},function(e){e.O(0,[3159,5288,8472,5987,9133,2971,7023,1744],function(){return e(e.s=6910)}),_N_E=e.O()}]);