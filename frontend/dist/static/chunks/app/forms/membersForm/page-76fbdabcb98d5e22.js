(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9910],{1819:function(e,t,a){Promise.resolve().then(a.bind(a,3912))},3912:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var s=a(7437),r=a(2265),l=a(9133),i=a(2270),o=a(8472),c=a(9541),d=()=>{let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[i,d]=(0,r.useState)([]),[n,m]=(0,r.useState)([]),[u,b]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[p,k]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[v,j]=(0,r.useState)(!0),[w,N]=(0,r.useState)(!0),[y,S]=(0,r.useState)(!0),[C,I]=(0,r.useState)(!0),[M,E]=(0,r.useState)(""),[T,F]=(0,r.useState)(""),[Z,D]=(0,r.useState)(""),[P,_]=(0,r.useState)(""),[W,q]=(0,r.useState)(""),[O,A]=(0,r.useState)(""),[z,B]=(0,r.useState)(""),[G,H]=(0,r.useState)(""),[J,K]=(0,r.useState)(""),[L,Q]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{let e=await o.Z.get("http://localhost:3000/committees");t(e.data),j(0===e.data.length)}catch(e){console.error("Error fetching committees:",e),j(!0)}})()},[]),(0,r.useEffect)(()=>{(async()=>{if(u)try{let e=await o.Z.get("http://localhost:3000/sub-committees/committee/".concat(u));l(e.data),N(0===e.data.length)}catch(e){console.error("Error fetching sub-committees:",e),N(!0)}else l([]),N(!0)})()},[u]),(0,r.useEffect)(()=>{(async()=>{if(u||x)try{let e="";if(x?e="http://localhost:3000/sub-level/sub-committee/".concat(x):u&&(e="http://localhost:3000/sub-level/committee/".concat(u)),e){let t=(await o.Z.get(e)).data.map(e=>e.levelId);if(t.length>0){let e=(await o.Z.get("http://localhost:3000/levels")).data.filter(e=>t.includes(e.levelId));d(e),S(0===e.length)}else d([]),S(!0)}else d([]),S(!0)}catch(e){console.error("Error fetching levels:",e),d([]),S(!0)}else d([]),S(!0)})()},[u,x]),(0,r.useEffect)(()=>{(async()=>{if(u||x)try{let e="";if(x?e="http://localhost:3000/structures/subcommittee/".concat(x):u&&(e="http://localhost:3000/structures/committee/".concat(u)),e){let t=(await o.Z.get(e)).data.map(e=>e.positionId);if(t.length>0){let e=t.map(e=>o.Z.get("http://localhost:3000/positions/".concat(e))),a=(await Promise.all(e)).map(e=>e.data);m(a),I(0===a.length)}else m([]),I(!0)}else m([]),I(!0)}catch(e){console.error("Error fetching positions:",e),m([]),I(!0)}else m([]),I(!0)})()},[u,x]);let R=async e=>{e.preventDefault();try{await o.Z.post("http://localhost:3000/members",{memberName:M,mobileNumber:T,email:Z||null,committeeId:""!==u?u:null,subCommitteeId:""!==x?x:null,levelId:""!==p?p:null,positionId:""!==f?f:null,representative:P||null,address:W||null,province:O||null,district:z||null,municipality:G||null,ward:J||null,remarks:L||null}),console.log("Form submitted successfully"),E(""),F(""),D(""),_(""),q(""),b(""),h(""),k(""),g(""),l([]),d([]),m([]),Q("")}catch(e){console.error("Error submitting form:",e)}};return(0,s.jsxs)("div",{className:"w-fit rounded-sm border border-stroke  bg-rose-100 shadow dark:border-strokedark dark:bg-boxdark sm:rounded-lg",children:[(0,s.jsx)("div",{className:"border-b border-stroke bg-rose-200 px-7 py-4 shadow dark:border-strokedark sm:rounded-lg",children:(0,s.jsx)("h3",{className:"font-medium text-black dark:text-white",children:"सदस्यहरु चयन फारम"})}),(0,s.jsx)("div",{className:"p-7",children:(0,s.jsxs)("form",{onSubmit:R,children:[(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"memberName",children:"नाम:"}),(0,s.jsx)("input",{type:"text",id:"memberName",value:M,onChange:e=>E(e.target.value),required:!0,className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"mobileNumber",children:"मोबाइल नम्बर:"}),(0,s.jsx)("input",{type:"tel",id:"mobileNumber",value:T,onChange:e=>F(e.target.value),required:!0,className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"email",children:"इमेल:"}),(0,s.jsx)("input",{type:"email",id:"email",value:Z,onChange:e=>D(e.target.value),className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"representative",children:"प्रतिनिधि:"}),(0,s.jsx)("input",{type:"text",id:"representative",value:P,onChange:e=>_(e.target.value),className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"address",children:"ठेगाना:"}),(0,s.jsx)(c.Z,{onAddressChange:e=>{A(e.province),B(e.district),H(e.municipality),K(e.ward)}})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"committee",children:"समिति:"}),(0,s.jsxs)("select",{id:"committee",value:u,onChange:e=>b(Number(e.target.value)),disabled:v,className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",children:[(0,s.jsx)("option",{value:"",children:"-- चयन गर्नुहोस् --"}),e.map(e=>(0,s.jsx)("option",{value:e.committeeId,children:e.committeeName},e.committeeId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"subCommittee",children:"उपसमिति:"}),(0,s.jsxs)("select",{id:"subCommittee",value:x,onChange:e=>h(Number(e.target.value)),disabled:w,className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",children:[(0,s.jsx)("option",{value:"",children:"-- चयन गर्नुहोस् --"}),a.map(e=>(0,s.jsx)("option",{value:e.subCommitteeId,children:e.subCommitteeName},e.subCommitteeId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"level",children:"स्तर:"}),(0,s.jsxs)("select",{id:"level",value:p,onChange:e=>k(Number(e.target.value)),disabled:y,className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",children:[(0,s.jsx)("option",{value:"",children:"-- चयन गर्नुहोस् --"}),i.map(e=>(0,s.jsx)("option",{value:e.levelId,children:e.levelName},e.levelId))]})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"स्थिति:"}),(0,s.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"position-".concat(e.positionId),value:e.positionId,checked:f===e.positionId,onChange:()=>g(t=>t===e.positionId?"":e.positionId),disabled:C,className:"mr-2"}),(0,s.jsx)("label",{htmlFor:"position-".concat(e.positionId),className:"text-sm text-black dark:text-white",children:e.positionName})]},e.positionId))})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"representative",children:"कैफियत:"}),(0,s.jsx)("input",{type:"text",id:"remarks",value:L,onChange:e=>Q(e.target.value),className:"bg-gray-50 w-full rounded border border-stroke px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",placeholder:"कैफियत उल्लेख गर्नुहोस्"})]}),(0,s.jsx)("div",{className:"flex justify-end space-x-4",children:(0,s.jsx)("button",{type:"submit",disabled:v,className:"rounded bg-primary px-4 py-2 text-white",children:"सबमिट"})})]})})]})},n=()=>(0,s.jsx)(l.default,{children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[(0,s.jsx)(i.Z,{pageName:"संरचना व्यवस्थापन"}),(0,s.jsx)("div",{children:(0,s.jsx)(d,{})})]})})},9541:function(e,t,a){"use strict";var s=a(7437),r=a(2265);let l=async()=>{try{let[e,t,a,s]=await Promise.all([fetch("/map-province-districts.json"),fetch("/map-districts-municipalities.json"),fetch("/map-municipalities-wards.json"),fetch("/all-provinces.json")]),r=await e.json(),l=await t.json(),i=await a.json(),o=await s.json();return{provinceToDistrictsMap:r,districtsToMunicipalitiesMap:l,municipalitiesToWardsMap:i,allProvinces:o}}catch(e){return console.error("Error fetching address data:",e),{provinceToDistrictsMap:{},districtsToMunicipalitiesMap:{},municipalitiesToWardsMap:{},allProvinces:[]}}};t.Z=e=>{let{onAddressChange:t,initialProvince:a="",initialDistrict:i="",initialMunicipality:o="",initialWard:c=""}=e,[d,n]=(0,r.useState)(a),[m,u]=(0,r.useState)(i),[b,x]=(0,r.useState)(o),[h,p]=(0,r.useState)(c),[k,f]=(0,r.useState)({}),[g,v]=(0,r.useState)({}),[j,w]=(0,r.useState)({}),[N,y]=(0,r.useState)([]),[S,C]=(0,r.useState)([]),[I,M]=(0,r.useState)([]),[E,T]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{let e=await l();f(e.provinceToDistrictsMap),v(e.districtsToMunicipalitiesMap),w(e.municipalitiesToWardsMap),y(e.allProvinces),a&&e.provinceToDistrictsMap[a]&&C(e.provinceToDistrictsMap[a]),i&&e.districtsToMunicipalitiesMap[i]&&M(e.districtsToMunicipalitiesMap[i]),o&&e.municipalitiesToWardsMap[o]&&T(e.municipalitiesToWardsMap[o])})()},[a,i,o]),(0,r.useEffect)(()=>{d?(C(k[d]||[]),i||(u(""),x(""),p(""),M([]),T([]))):(C([]),M([]),T([])),t({province:d,district:"",municipality:"",ward:""})},[d]),(0,r.useEffect)(()=>{m?(M(g[m]||[]),o||(x(""),p(""),T([]))):(M([]),T([])),t({province:d,district:m,municipality:"",ward:""})},[m]),(0,r.useEffect)(()=>{b?(T(j[b]||[]),c||p("")):T([]),t({province:d,district:m,municipality:b,ward:""})},[b]),(0,r.useEffect)(()=>{t({province:d,district:m,municipality:b,ward:h})},[h]),(0,s.jsx)("div",{className:"flex flex-col gap-6",children:(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border border-black bg-slate-400 text-center font-medium text-black dark:text-white",children:"प्रदेश:"}),(0,s.jsxs)("select",{value:d,onChange:e=>n(e.target.value),className:"w-fit rounded border bg-white px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ".concat(""===d?"text-gray-500":"text-black"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"प्रदेश छान्नुहोस्"}),N.map(e=>(0,s.jsx)("option",{value:e,className:"text-black",children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"जिल्ला:"}),(0,s.jsxs)("select",{value:m,onChange:e=>u(e.target.value),disabled:!d,className:"w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ".concat(""===m?"text-gray-500":"text-black"," ").concat(d?"bg-white":"bg-gray-50 cursor-not-allowed"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"जिल्ला छान्नुहोस्"}),S.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"पालिका:"}),(0,s.jsxs)("select",{value:b,onChange:e=>x(e.target.value),disabled:!m,className:"w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white ".concat(""===b?"text-gray-500":"text-black"," ").concat(m?"bg-white":"bg-gray-50 cursor-not-allowed"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"पालिका छान्नुहोस्"}),I.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"वडा:"}),(0,s.jsxs)("select",{value:h,onChange:e=>p(e.target.value),disabled:!b,className:"w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ".concat(""===h?"text-gray-500":"text-black"," ").concat(b?"bg-white":"bg-gray-50 cursor-not-allowed"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"वडा छान्नुहोस्"}),E.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]})})}},2270:function(e,t,a){"use strict";var s=a(7437),r=a(7138);t.Z=e=>{let{pageName:t}=e;return(0,s.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsx)("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:t}),(0,s.jsx)("nav",{children:(0,s.jsxs)("ol",{className:"flex items-center gap-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(r.default,{className:"font-medium",href:"/",children:"गृह पृष्ठ /"})}),(0,s.jsx)("li",{className:"font-medium text-primary",children:t})]})})]})}}},function(e){e.O(0,[5288,8472,9133,2971,7023,1744],function(){return e(e.s=1819)}),_N_E=e.O()}]);