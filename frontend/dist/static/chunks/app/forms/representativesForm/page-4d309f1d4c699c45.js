(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5320],{7158:function(e,t,r){Promise.resolve().then(r.bind(r,761))},761:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(7437),s=r(2265),l=r(9133),o=r(2270),d=r(8472),c=()=>{let[e,t]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[o,c]=(0,s.useState)([]),[i,n]=(0,s.useState)(""),[m,u]=(0,s.useState)(""),[b,h]=(0,s.useState)(""),[x,k]=(0,s.useState)(!0),[f,p]=(0,s.useState)(!0),[g,v]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let e=await d.Z.get("http://localhost:3000/committees");t(e.data),k(0===e.data.length)}catch(e){console.error("Error fetching committees:",e),k(!0)}})()},[]),(0,s.useEffect)(()=>{(async()=>{if(i)try{let e=await d.Z.get("http://localhost:3000/sub-committees/committee/".concat(i));l(e.data),p(0===e.data.length)}catch(e){console.error("Error fetching sub-committees:",e),p(!0)}else l([]),p(!0)})()},[i]),(0,s.useEffect)(()=>{(async()=>{try{let e="";if(m?e="http://localhost:3000/sub-level/sub-committee/".concat(m):i&&(e="http://localhost:3000/sub-level/committee/".concat(i)),!e){c([]),v(!0);return}let t=(await d.Z.get(e)).data.map(e=>e.levelId);if(t.length>0){let e=(await d.Z.get("http://localhost:3000/levels")).data.filter(e=>t.includes(e.levelId));c(e),v(0===e.length)}else c([]),v(!0)}catch(e){console.error("Error fetching levels:",e),c([]),v(!0)}})()},[i,m]);let j=async e=>{e.preventDefault();let t={committeeId:parseInt(i,10),subCommitteeId:m?parseInt(m,10):null,levelId:parseInt(b,10),representativeId:null};try{await d.Z.post("http://localhost:3000/structures",t),console.log("Form submitted successfully"),n(""),u(""),h(""),l([]),c([])}catch(e){console.error("Error submitting form:",e)}};return(0,a.jsxs)("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[(0,a.jsx)("div",{className:"border-b border-stroke px-7 py-4 dark:border-strokedark",children:(0,a.jsx)("h3",{className:"font-medium text-black dark:text-white",children:"प्रतिनिधिहरु चयन फारम"})}),(0,a.jsx)("div",{className:"p-7",children:(0,a.jsxs)("form",{onSubmit:j,children:[(0,a.jsxs)("div",{className:"mb-5.5",children:[(0,a.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"committee",children:"समिति चयन गर्नुहोस्:"}),(0,a.jsxs)("select",{id:"committee",value:i,onChange:e=>{n(e.target.value),u(""),c([])},required:!0,disabled:x,className:"w-full rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white ".concat(x?"bg-gray-200 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 focus:border-primary"),children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"समिति चयन गर्नुहोस्"}),e.map(e=>(0,a.jsx)("option",{value:e.committeeId.toString(),children:e.committeeName},e.committeeId))]})]}),(0,a.jsxs)("div",{className:"mb-5.5",children:[(0,a.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"subCommittee",children:"उपसमिति चयन गर्नुहोस्:"}),(0,a.jsxs)("select",{id:"subCommittee",value:m,onChange:e=>u(e.target.value),disabled:f,className:"w-full rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white ".concat(f?"bg-gray-200 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 focus:border-primary"),children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"उपसमिति चयन गर्नुहोस्"}),r.map(e=>(0,a.jsx)("option",{value:e.subCommitteeId.toString(),children:e.subCommitteeName},e.subCommitteeId))]})]}),(0,a.jsxs)("div",{className:"mb-5.5",children:[(0,a.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"level",children:"तह चयन गर्नुहोस्:"}),(0,a.jsxs)("select",{id:"level",value:b,onChange:e=>h(e.target.value),disabled:g,className:"w-full rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white ".concat(g?"bg-gray-200 cursor-not-allowed":"bg-gray-50 hover:bg-gray-100 focus:border-primary"),children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"तह चयन गर्नुहोस्"}),o.map(e=>(0,a.jsx)("option",{value:e.levelId.toString(),children:e.levelName},e.levelId))]})]}),(0,a.jsxs)("div",{className:"mb-5.5",children:[(0,a.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"representative",children:"प्रतिनिधिहरु चयन गर्नुहोस्:"}),(0,a.jsx)("select",{id:"representative",disabled:!0,className:"bg-gray-200 w-full cursor-not-allowed rounded border border-stroke py-3 pl-4.5 pr-4.5 text-black focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",children:(0,a.jsx)("option",{value:"",disabled:!0,children:"प्रतिनिधिहरु चयन गर्नुहोस्"})})]}),(0,a.jsx)("button",{type:"submit",className:"hover:bg-primary-dark focus:bg-primary-dark inline-flex items-center justify-center rounded bg-primary px-4 py-2 text-center font-medium text-white focus:outline-none",disabled:g,children:"सेभ गर्नुहोस्"})]})})]})},i=()=>(0,a.jsx)(l.default,{children:(0,a.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[(0,a.jsx)(o.Z,{pageName:"संरचना व्यवस्थापन"}),(0,a.jsx)("div",{className:"bg-white p-6 shadow sm:rounded-lg",children:(0,a.jsx)(c,{})})]})})},2270:function(e,t,r){"use strict";var a=r(7437),s=r(7138);t.Z=e=>{let{pageName:t}=e;return(0,a.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsx)("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:t}),(0,a.jsx)("nav",{children:(0,a.jsxs)("ol",{className:"flex items-center gap-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(s.default,{className:"font-medium",href:"/",children:"गृह पृष्ठ /"})}),(0,a.jsx)("li",{className:"font-medium text-primary",children:t})]})})]})}}},function(e){e.O(0,[5288,8472,9133,2971,7023,1744],function(){return e(e.s=7158)}),_N_E=e.O()}]);