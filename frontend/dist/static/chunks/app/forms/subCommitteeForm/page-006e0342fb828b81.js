(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5872],{9495:function(e,t,o){Promise.resolve().then(o.bind(o,9487))},9487:function(e,t,o){"use strict";o.r(t);var s=o(7437),m=o(2265),a=o(2270),c=o(9133),r=o(1033),i=o(943);t.default=()=>{let[e,t]=(0,m.useState)({subCommitteeName:"",selectedCommitteeId:""}),[o,n]=(0,m.useState)(!1),[l,u]=(0,m.useState)([]),[d,h]=(0,m.useState)(!1);(0,m.useEffect)(()=>{let e=async()=>{try{let e=await fetch("http://localhost:3000/sub-committee");if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));(await e.json()).length>0&&h(!0)}catch(e){console.error("Error fetching sub-committees:",e)}};(async()=>{try{let e=await fetch("http://localhost:3000/committees");if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));let t=(await e.json()).map(e=>({id:e.committeeId,name:e.committeeName}));u(t),t.length>0&&n(!0)}catch(e){console.error("Error fetching committees:",e)}})(),e()},[]);let b=async o=>{o.preventDefault();let s={subCommitteeName:e.subCommitteeName,committeeId:Number(e.selectedCommitteeId)};try{let e=await fetch("http://localhost:3000/sub-committees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok)throw console.log(s),Error("HTTP error! Status: ".concat(e.status));let o=await e.json();console.log("Sub-Committee form submitted successfully:",o),t({subCommitteeName:"",selectedCommitteeId:""})}catch(e){console.error("Error submitting sub-committee form:",e)}};return(0,s.jsx)(c.default,{children:(0,s.jsxs)("div",{className:"mx-auto max-w-270",children:[(0,s.jsx)(a.Z,{pageName:"उपसमिति"}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(r.Z,{subCommitteeName:e.subCommitteeName,selectedCommitteeId:e.selectedCommitteeId,committees:l,isSubCommitteeEnabled:o,onSubCommitteeChange:e=>{let{name:o,value:s}=e.target;t(e=>({...e,[o]:s}))},onCancel:()=>{t({subCommitteeName:"",selectedCommitteeId:""})},onSubmit:b})}),d&&(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(i.Z,{})})]})})}}},function(e){e.O(0,[5288,8472,9133,1780,2971,7023,1744],function(){return e(e.s=9495)}),_N_E=e.O()}]);