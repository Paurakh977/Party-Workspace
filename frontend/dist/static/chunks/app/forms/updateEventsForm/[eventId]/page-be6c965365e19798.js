(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7319],{5381:function(e,t,a){Promise.resolve().then(a.bind(a,4018))},4018:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(7437),r=a(2265),i=a(9133),l=a(2270),n=a(8472),c=a(9541),o=a(3069);a(5918);var d=a(6463),u=e=>{let{eventId:t}=e,a=(0,d.useRouter)(),[i,l]=(0,r.useState)(null),[u,m]=(0,r.useState)(""),[x,b]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[g,k]=(0,r.useState)(""),[w,y]=(0,r.useState)(""),[j,N]=(0,r.useState)(""),[S,M]=(0,r.useState)(""),[T,C]=(0,r.useState)(""),[E,D]=(0,r.useState)(""),[F,P]=(0,r.useState)(""),[O,W]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(async()=>{try{let e=(await n.Z.get("http://localhost:3000/events/".concat(t))).data;l(e),m(e.eventHeading||""),b(e.eventDetails||""),p(e.eventDate||""),v(e.eventTime||""),k(e.address||""),y(e.province||""),N(e.district||""),M(e.municipality||""),C(e.ward||""),D(e.venue||""),P(e.eventOrganizer||""),W(e.remarks||"")}catch(e){console.error("Error fetching event:",e)}})()},[t]);let Z=async e=>{e.preventDefault();try{await n.Z.put("http://localhost:3000/events/".concat(t),{eventHeading:u,eventDetails:x,eventDate:h,eventTime:f,address:g||"अन्य",province:w||null,district:j||null,municipality:S||null,ward:T||null,venue:E||null,eventOrganizer:F||null,remarks:O||null}),console.log("Form submitted successfully"),a.push("/events/list")}catch(e){console.error("Error submitting form:",e)}};return(0,s.jsxs)("div",{className:"w-fit rounded border  bg-rose-100 shadow  dark:bg-boxdark ",children:[(0,s.jsx)("div",{className:"rounded border-b bg-rose-200 px-7 py-4  shadow",children:(0,s.jsx)("h3",{className:"font-medium text-black dark:text-white",children:"कार्यक्रम विवरण प्रविष्टि फारम"})}),(0,s.jsx)("div",{className:"p-7",children:(0,s.jsxs)("form",{onSubmit:Z,children:[(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventHeading",children:"कार्यक्रमको शिर्षक:"}),(0,s.jsx)("input",{type:"text",id:"eventHeading",value:u,onChange:e=>m(e.target.value),required:!0,className:"bg-gray-50 w-full rounded border px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventDetails",children:"कार्यक्रमको विवरण:"}),(0,s.jsx)("input",{type:"text",id:"eventDetails",value:x,onChange:e=>b(e.target.value),required:!0,className:"bg-gray-50 w-full rounded border  px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventDate",children:"कार्यक्रमको मिति:"}),(0,s.jsx)(o.P,{inputClassName:"bg-gray-50 w-full rounded border shadow px-4.5 py-3 text-black focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white",value:h,onChange:e=>{p(e)},options:{calenderLocale:"ne",valueLocale:"en"}})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventTime",children:"कार्यक्रमको समय:"}),(0,s.jsx)("input",{type:"time",id:"eventTime",name:"eventTime",className:"bg-gray-50 w-full rounded border px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white",value:f,onChange:e=>v(e.target.value)})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"address",children:"ठेगाना:"}),i&&(0,s.jsx)(c.Z,{initialProvince:i.province,initialDistrict:i.district,initialMunicipality:i.municipality,initialWard:i.ward,onAddressChange:e=>{y(e.province),N(e.district),M(e.municipality),C(e.ward)}})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"venue",children:"कार्यक्रम स्थल:"}),(0,s.jsx)("input",{type:"text",id:"venue",value:E,onChange:e=>D(e.target.value),className:"bg-gray-50 w-full rounded border  px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"eventOrganizer",children:"कार्यक्रमको आयोजक संस्था:"}),(0,s.jsx)("input",{type:"text",id:"eventOrganizer",value:F,onChange:e=>P(e.target.value),className:"bg-gray-50 w-full rounded border px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white"})]}),(0,s.jsxs)("div",{className:"mb-5.5",children:[(0,s.jsx)("label",{className:"mb-3 block bg-sky-200 text-sm font-medium text-black dark:text-white",htmlFor:"remarks",children:"कैफियत:"}),(0,s.jsx)("input",{type:"text",id:"remarks",value:O,onChange:e=>W(e.target.value),className:"bg-gray-50 w-full rounded border px-4.5 py-3 text-black shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white"})]}),(0,s.jsx)("div",{className:"flex justify-end gap-4.5",children:(0,s.jsx)("button",{type:"submit",className:"inline-flex items-center rounded border bg-primary px-5 py-2 text-base font-medium text-white transition hover:bg-opacity-90",children:"अपडेट गर्नुहोस्"})})]})})]})},m=e=>{let{params:t}=e,a=Array.isArray(t.eventId)?t.eventId[0]:t.eventId;return(0,r.useEffect)(()=>{console.log("params from wrapper:",t.eventId),console.log("params:",t)},[]),(0,s.jsx)(i.default,{children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-8",children:[(0,s.jsx)(l.Z,{pageName:"कार्यक्रम विवरण अद्यावधिक गर्नुहोस्"}),(0,s.jsx)("div",{children:(0,s.jsx)(u,{eventId:a})})]})})}},9541:function(e,t,a){"use strict";var s=a(7437),r=a(2265);let i=async()=>{try{let[e,t,a,s]=await Promise.all([fetch("/map-province-districts.json"),fetch("/map-districts-municipalities.json"),fetch("/map-municipalities-wards.json"),fetch("/all-provinces.json")]),r=await e.json(),i=await t.json(),l=await a.json(),n=await s.json();return{provinceToDistrictsMap:r,districtsToMunicipalitiesMap:i,municipalitiesToWardsMap:l,allProvinces:n}}catch(e){return console.error("Error fetching address data:",e),{provinceToDistrictsMap:{},districtsToMunicipalitiesMap:{},municipalitiesToWardsMap:{},allProvinces:[]}}};t.Z=e=>{let{onAddressChange:t,initialProvince:a="",initialDistrict:l="",initialMunicipality:n="",initialWard:c=""}=e,[o,d]=(0,r.useState)(a),[u,m]=(0,r.useState)(l),[x,b]=(0,r.useState)(n),[h,p]=(0,r.useState)(c),[f,v]=(0,r.useState)({}),[g,k]=(0,r.useState)({}),[w,y]=(0,r.useState)({}),[j,N]=(0,r.useState)([]),[S,M]=(0,r.useState)([]),[T,C]=(0,r.useState)([]),[E,D]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{let e=await i();v(e.provinceToDistrictsMap),k(e.districtsToMunicipalitiesMap),y(e.municipalitiesToWardsMap),N(e.allProvinces),a&&e.provinceToDistrictsMap[a]&&M(e.provinceToDistrictsMap[a]),l&&e.districtsToMunicipalitiesMap[l]&&C(e.districtsToMunicipalitiesMap[l]),n&&e.municipalitiesToWardsMap[n]&&D(e.municipalitiesToWardsMap[n])})()},[a,l,n]),(0,r.useEffect)(()=>{o?(M(f[o]||[]),l||(m(""),b(""),p(""),C([]),D([]))):(M([]),C([]),D([])),t({province:o,district:"",municipality:"",ward:""})},[o]),(0,r.useEffect)(()=>{u?(C(g[u]||[]),n||(b(""),p(""),D([]))):(C([]),D([])),t({province:o,district:u,municipality:"",ward:""})},[u]),(0,r.useEffect)(()=>{x?(D(w[x]||[]),c||p("")):D([]),t({province:o,district:u,municipality:x,ward:""})},[x]),(0,r.useEffect)(()=>{t({province:o,district:u,municipality:x,ward:h})},[h]),(0,s.jsx)("div",{className:"flex flex-col gap-6",children:(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border border-black bg-slate-400 text-center font-medium text-black dark:text-white",children:"प्रदेश:"}),(0,s.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"w-fit rounded border bg-white px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ".concat(""===o?"text-gray-500":"text-black"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"प्रदेश छान्नुहोस्"}),j.map(e=>(0,s.jsx)("option",{value:e,className:"text-black",children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"जिल्ला:"}),(0,s.jsxs)("select",{value:u,onChange:e=>m(e.target.value),disabled:!o,className:"w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ".concat(""===u?"text-gray-500":"text-black"," ").concat(o?"bg-white":"bg-gray-50 cursor-not-allowed"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"जिल्ला छान्नुहोस्"}),S.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"पालिका:"}),(0,s.jsxs)("select",{value:x,onChange:e=>b(e.target.value),disabled:!u,className:"w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none  dark:bg-meta-4 dark:text-white ".concat(""===x?"text-gray-500":"text-black"," ").concat(u?"bg-white":"bg-gray-50 cursor-not-allowed"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"पालिका छान्नुहोस्"}),T.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"text-small mb-1 block rounded border bg-slate-400 text-center font-medium text-black dark:text-white",children:"वडा:"}),(0,s.jsxs)("select",{value:h,onChange:e=>p(e.target.value),disabled:!x,className:"w-fit rounded border px-4.5 py-3 text-sm shadow focus:border-primary focus:outline-none dark:bg-meta-4 dark:text-white ".concat(""===h?"text-gray-500":"text-black"," ").concat(x?"bg-white":"bg-gray-50 cursor-not-allowed"),children:[(0,s.jsx)("option",{value:"",className:"text-gray-500",children:"वडा छान्नुहोस्"}),E.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]})})}},2270:function(e,t,a){"use strict";var s=a(7437),r=a(7138);t.Z=e=>{let{pageName:t}=e;return(0,s.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsx)("h2",{className:"text-title-md2 font-semibold text-black dark:text-white",children:t}),(0,s.jsx)("nav",{children:(0,s.jsxs)("ol",{className:"flex items-center gap-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)(r.default,{className:"font-medium",href:"/",children:"गृह पृष्ठ /"})}),(0,s.jsx)("li",{className:"font-medium text-primary",children:t})]})})]})}}},function(e){e.O(0,[3159,5288,8472,5987,9133,2971,7023,1744],function(){return e(e.s=5381)}),_N_E=e.O()}]);