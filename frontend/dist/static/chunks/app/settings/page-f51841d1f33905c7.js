(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6938],{1037:function(e,t,o){Promise.resolve().then(o.bind(o,7150))},7150:function(e,t,o){"use strict";o.r(t);var r=o(7437),s=o(2265),a=o(2270),m=o(9133),i=o(8800),c=o(1033),l=o(943);t.default=()=>{let[e,t]=(0,s.useState)(""),[o,n]=(0,s.useState)({subCommitteeName:"",selectedCommitteeId:""}),[d,u]=(0,s.useState)(!1),[b,h]=(0,s.useState)([]),[f,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=async()=>{try{let e=await fetch("http://localhost:3000/sub-committee");if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));(await e.json()).length>0&&x(!0)}catch(e){console.error("Error fetching sub-committees:",e)}};(async()=>{try{let e=await fetch("http://localhost:3000/committees");if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));let t=(await e.json()).map(e=>({id:e.committeeId,name:e.committeeName}));h(t),t.length>0&&u(!0)}catch(e){console.error("Error fetching committees:",e)}})(),e()},[]);let p=async o=>{o.preventDefault();try{let o=await fetch("http://localhost:3000/committees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({committeeName:e})});if(!o.ok)throw Error("HTTP error! Status: ".concat(o.status));let r=await o.json();console.log("Committee form submitted successfully:",r),t("")}catch(e){console.error("Error submitting committee form:",e)}},k=async e=>{e.preventDefault();let t={subCommitteeName:o.subCommitteeName,committeeId:Number(o.selectedCommitteeId)};try{let e=await fetch("http://localhost:3000/sub-committees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw console.log(t),Error("HTTP error! Status: ".concat(e.status));let o=await e.json();console.log("Sub-Committee form submitted successfully:",o),n({subCommitteeName:"",selectedCommitteeId:""})}catch(e){console.error("Error submitting sub-committee form:",e)}},N=e=>{"committee"===e?t(""):n({subCommitteeName:"",selectedCommitteeId:""})};return(0,r.jsx)(m.default,{children:(0,r.jsxs)("div",{className:"mx-auto max-w-270",children:[(0,r.jsx)(a.Z,{pageName:"सेटिङहरु"}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)(i.Z,{committeeName:e,onCommitteeNameChange:e=>{t(e.target.value)},onCancel:()=>N("committee"),onSubmit:p})}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)(c.Z,{subCommitteeName:o.subCommitteeName,selectedCommitteeId:o.selectedCommitteeId,committees:b,isSubCommitteeEnabled:d,onSubCommitteeChange:e=>{let{name:t,value:o}=e.target;n(e=>({...e,[t]:o}))},onCancel:()=>N("subCommittee"),onSubmit:k})}),f&&(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)(l.Z,{})})]})})}},8800:function(e,t,o){"use strict";var r=o(7437);o(2265),t.Z=e=>{let{committeeName:t,onCommitteeNameChange:o,onCancel:s,onSubmit:a}=e;return(0,r.jsxs)("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[(0,r.jsx)("div",{className:"border-b border-stroke px-7 py-4 dark:border-strokedark",children:(0,r.jsx)("h3",{className:"font-medium text-black dark:text-white",children:"समितिको नाम:"})}),(0,r.jsx)("div",{className:"p-7",children:(0,r.jsxs)("form",{onSubmit:a,children:[(0,r.jsxs)("div",{className:"mb-5.5",children:[(0,r.jsx)("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",htmlFor:"committeeName",children:"समितिको नाम प्रबिष्टि गर्नुहोस्"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-4.5 top-4"}),(0,r.jsx)("input",{className:"w-full rounded border border-stroke bg-gray py-3 pl-11.5 pr-4.5 text-black focus:border-primary focus:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"committeeName",id:"committeeName",placeholder:"नाम यहाँ लेख्नुहोस्",value:t,onChange:o,required:!0})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4.5",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"flex justify-center rounded border border-stroke px-6 py-2 font-medium text-black transition hover:shadow-md dark:border-strokedark dark:text-white",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex justify-center rounded bg-primary px-6 py-2 font-medium text-white transition hover:bg-opacity-90",children:"Save"})]})]})})]})}}},function(e){e.O(0,[5288,8472,9133,1780,2971,7023,1744],function(){return e(e.s=1037)}),_N_E=e.O()}]);